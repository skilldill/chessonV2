---
import Layout from "../layouts/Layout.astro";
import { Chessboard3D } from "../components/Chessboard3D";
---

<Layout 
	lang="en" 
	title="Online Chess â€” play for free with friends"
	description="Create a room in seconds and start a game without registration"
	canonicalUrl="https://chesson.me/"
	ogImage="https://chesson.me/og.png"
	locale="en_US"
>
	<div class="relative w-full h-screen bg-black text-white overflow-hidden">
		<header class="absolute top-0 left-0 right-0 z-10 p-9">
			<nav class="flex justify-between items-center max-w-6xl mx-auto">
				<div class="flex items-center">
					<img src="/chesson-logo.svg" alt="Chesson Logo" />
				</div>
			</nav>
		</header>
		<div
			class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 text-center w-[calc(100%-2rem)] max-w-4xl"
		>
			<h1 class="font-bold mb-8 max-w-4xl mx-auto text-3xl sm:text-4xl md:text-5xl lg:text-7xl">
				Chess&nbsp;online <br> play for free with friends
			</h1>
			<h2 class="mb-10 font-normal text-xl sm:text-2xl md:text-3xl lg:text-4xl">
				Create a room in seconds and start a game without registration
			</h2>
			<div class="flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4 w-full sm:w-auto">
				<button
					id="create-room-btn"
					class="w-full sm:w-auto bg-white text-black font-bold py-3 px-6 rounded-md hover:bg-gray-200 transition duration-300 text-lg cursor-pointer"
				>
					Play with a Friend
				</button>
				<button
					id="login-btn"
					class="w-full sm:w-auto bg-[#4F39F6] text-white border border-[#6D5BFF] font-bold py-3 px-6 rounded-md hover:bg-[#5C47FF] shadow-[0_8px_24px_rgba(79,57,246,0.45)] transition duration-300 text-lg cursor-pointer"
				>
					Sign In / Sign Up
				</button>
			</div>
		</div>
		<Chessboard3D client:only />
		<div class="absolute left-0 bottom-[40px] right-0">
			<div class="text-center text-xm opacity-70 flex flex-col md:flex-row items-center justify-center gap-1 md:gap-[14px]">
				<span class="order-2 md:order-1">v0.7.0</span>
				<a href="https://t.me/chessonme" target="_blank" rel="noopener noreferrer" class="hover:opacity-100 transition-opacity order-1 md:order-3">Join our Telegram for updates</a>
			</div>
		</div>
	</div>
	<script>
		// Redirect based on screen size
		function redirectBasedOnScreenSize() {
			const isMobile = window.innerWidth < 768 || /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
			
			if (isMobile) {
				window.location.href = 'https://mobile.chesson.me/';
			} else {
				window.location.href = 'https://game.chesson.me/';
			}
		}

		function redirectToLogin() {
			window.location.href = '/login';
		}
		
		// Add click handler to button
		document.addEventListener('DOMContentLoaded', () => {
			const createRoomBtn = document.getElementById('create-room-btn');
			const loginBtn = document.getElementById('login-btn');
			if (createRoomBtn) {
				createRoomBtn.addEventListener('click', redirectBasedOnScreenSize);
			}
			if (loginBtn) {
				loginBtn.addEventListener('click', redirectToLogin);
			}
		});
	</script>
</Layout>
