---
import Layout from "../../layouts/Layout.astro";
import { Chessboard3D } from "../../components/Chessboard3D";
---

<Layout 
	lang="ru" 
	title="Онлайн шахматы — играй бесплатно с друзьями"
	description="Играйте в шахматы онлайн без регистрации. Создавайте комнаты, приглашайте друзей и делайте ходы прямо в браузере."
	canonicalUrl="https://chesson.me/ru/"
	ogImage="https://chesson.me/og.png"
	locale="ru_RU"
>
	<div class="relative w-full h-screen bg-black text-white overflow-hidden">
		<header class="absolute top-0 left-0 right-0 z-10 p-9">
			<nav class="flex justify-between items-center max-w-6xl mx-auto">
				<div class="flex items-center">
					<img src="/chesson-logo.svg" alt="Chesson Logo" />
				</div>
			</nav>
		</header>
		<div
			class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 text-center"
		>
			<h1 class="font-bold mb-8 max-w-4xl mx-auto text-3xl sm:text-4xl md:text-5xl lg:text-7xl">
				Шахматы&nbsp;онлайн <br> играй бесплатно с друзьями
			</h1>
			<h2 class="mb-10 font-normal text-xl sm:text-2xl md:text-3xl lg:text-4xl">
				Создай комнату за секунду и начни партию без регистрации
			</h2>
			<button
				id="create-room-btn"
				class="bg-white text-black font-bold py-3 px-6 rounded-md hover:bg-gray-200 transition duration-300 text-lg cursor-pointer"
			>
				Создать комнату
			</button>
		</div>
		<Chessboard3D client:only />
		<div class="absolute left-0 bottom-[40px] right-0">
			<div class="text-center text-xm opacity-70 flex flex-col md:flex-row items-center justify-center gap-1 md:gap-0">
				<span class="order-2 md:order-1">v0.6.0</span>
				<span class="hidden md:inline order-1 md:order-2"> · </span>
				<a href="https://t.me/chessonme" target="_blank" rel="noopener noreferrer" class="hover:opacity-100 transition-opacity order-1 md:order-3">Следите за обновлениями в Telegram</a>
			</div>
		</div>
	</div>
	<script>
		// Redirect based on screen size
		function redirectBasedOnScreenSize() {
			const isMobile = window.innerWidth < 768 || /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
			
			if (isMobile) {
				window.location.href = 'https://mobile.chesson.me/';
			} else {
				window.location.href = 'https://game.chesson.me/';
			}
		}
		
		// Add click handler to button
		document.addEventListener('DOMContentLoaded', () => {
			const createRoomBtn = document.getElementById('create-room-btn');
			if (createRoomBtn) {
				createRoomBtn.addEventListener('click', redirectBasedOnScreenSize);
			}
		});
	</script>
</Layout>
